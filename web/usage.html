<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <link href="drawtiming.css" rel="stylesheet" type="text/css">
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>DrawTiming Usage</title>
  <meta content="Edward Counce" name="author">
</head>

<body alink="#000099" link="#000099" vlink="#990099">

<!-- SourceForge Logo -->
<div class="logo"><a href="http://sourceforge.net"><img
     alt="SourceForge.net Logo"
     src="http://sourceforge.net/sflogo.php?group_id=118983&amp;amp;type=3"
     style="border: 0px solid ; width: 88px; height: 31px;"></a>
</div>

<!-- Title -->
<table class="title" cellpadding="0" cellspacing="0" align="center">
  <tbody>
    <tr class="top">
      <td class="left"></td>
      <td class="middle"></td>
      <td class="right"></td>
    </tr>
    <tr class="middle">
      <td class="left"></td>
      <td class="middle"><h1>USING DRAWTIMING</h1></td>
      <td class="right"></td>
    </tr>
    <tr class="bottom">
      <td class="left"></td>
      <td class="middle"></td>
      <td class="right"></td>
    </tr>
  </tbody>
</table>
<br>
<br>

<!-- Navigation Tabs -->
<table class="tabs" cellpadding="0" cellspacing="0">
  <tbody>
    <tr class="top">
      <td class="alt_left"></td>
      <td class="alt_middle"></td>
      <td class="alt_right"></td>

      <td class="alt_left"></td>
      <td class="alt_middle"></td>
      <td class="alt_right"></td>

      <td class="alt_left"></td>
      <td class="alt_middle"></td>
      <td class="alt_right"></td>

      <td class="alt_left"></td>
      <td class="alt_middle"></td>
      <td class="alt_right"></td>

      <td class="left"></td>
      <td class="middle"></td>
      <td class="right"></td>
    </tr>
    <tr class="middle">
      <td class="alt_left"></td>
      <td class="alt_middle"><a href="index.html">ABOUT</a></td>
      <td class="alt_right"></td>
      <td class="alt_left"></td>
      <td class="alt_middle"><a href="samples.html">SAMPLES</a></td>
      <td class="alt_right"></td>
      <td class="alt_left"></td>
      <td class="alt_middle"><a href="download.html">DOWNLOAD </a></td>
      <td class="alt_right"></td>
      <td class="alt_left"></td>
      <td class="alt_middle"><a href="install.html">INSTALL </a></td>
      <td class="alt_right"></td>
      <td class="left"></td>
      <td class="middle">USAGE</td>
      <td class="right"></td>
    </tr>
  </tbody>
</table>

<!-- Content -->
<table class="content" cellpadding="0" cellspacing="0">
  <tbody>
    <tr class="top">
      <td class="left"></td>
      <td class="middle"></td>
      <td class="right"></td>
    </tr>
    <tr class="middle">
      <td class="left"></td>
      <td class="middle">

<!-- ============================================================ -->

<h2>USAGE</h2>
 
<p>To generate a timing diagram, write a signal description file
named, for example <span style="font-style:
italic;">infile.txt</span>, and run the application as shown: </p>

<pre class="cmd">
drawtiming --output <span style="font-style: italic;">outfile.gif</span>&nbsp; <span
 style="font-style: italic;">infile.txt</span>
</pre>

<p>The following options are accepted: </p>

<dl>
  <dt>-o <span style="font-style: italic;">filename</span> </dt>
  <dt>--output <span style="font-style: italic;">filename</span></dt>
  <dd>Required to produce an output image.  The output format is
  determined from the filename.  For more details on this, consult the
  ImageMagick <a
  href="http://www.imagemagick.org/www/formats.html">documentation</a>
  and the ImageMagick(1) man page.  <i>ImageMagick does additional
  processing on this parameter, so you should review possible security
  implications if you are running drawtiming from a CGI script for
  instance.</i><br>
  In addition to the formats supported by ImageMagick, postscript output
  can be generated using extensions of ps or eps</dd>
 
  <dt>-x <span style="font-style: italic;">float</span> </dt>
  <dt>&nbsp;--scale <span style="font-style: italic;">float</span></dt>
  <dd>Scales the canvas size on which to render.</dd>

  <dt>-p <span style="font-style: italic;">width</span>x<span style="font-style: italic;">height</span> </dt>
  <dt>--pagesize <span style="font-style: italic;">width</span>x<span style="font-style: italic;">height</span></dt>
  <dd>Specify the canvas size in pixels to render on.</dd>

  <dt>-a</dt>
  <dt>--aspect</dt>
  <dd>Force 1:1 aspect ratio when drawing on fixed size canvas.  See the --pagesize option.</dd>
 
  <dt>-v</dt>
  <dt>--verbose</dt>
  <dd>Increases the quantity of diagnostic output.</dd>

  <dt>-c</dt>
  <dt>--cell-height</dt>
  <dd>Set the height of the signal in pixels.</dd>

  <dt>-w</dt>
  <dt>--cell-width</dt>
  <dd>Set the width of the time period in pixels.</dd>

  <dt>-f</dt>
  <dt>--font-size</dt>
  <dd>Set the font size in points.</dd>

  <dt>-l</dt>
  <dt>--line-width</dt>
  <dd>Set the line width in pixels.</dd>
</dl>

<h2>INPUT FILE</h2>

<p>I tried to make the input syntax intuitive, but it still needs some
explanation.&nbsp; I suggest that you take a look at the <a
href="samples.html">samples</a> before reading the description that
follows. Also, at this stage in the project, I can not guarantee that
the input file sentax and semantics will be completely forward
compatible with future versions.  In such a situation, I will provide
a translation tool with the release, and note it in the release notes.</p>

<p>The input file consists of a series of statements seperated by
seperators.&nbsp; Statements are used to modify the value of a signal
and to add a signal to the list of dependencies for subsequent
statements. A seperator ("." "," ";" or "=&gt;") is required after
every statement. The seperators may reset the list of dependencies
and/or increment the clock.&nbsp; The "=&gt;" seperator is used to
draw causality arrows on the timing diagram based on the current list
of dependencies. </p>

<p>In brief, commas and semicolons seperate simultaneous signal changes,
and periods indicate the end of a clock cycle.</p>

<dl>
  <dt style="font-weight: bold;">SIGNAL=VALUE</dt>
  <dd>This statement changes the value of a signal at the beginning of
    the current clock, and adds it to the list of signal
    dependencies.&nbsp; The signal name may consist of one or more
    alphanumeric words joined by periods.</dd>

  <dt style="font-weight: bold;">SIGNAL</dt>
  <dd>This statement adds a signal to the list of dependencies without
    changing its value.</dd>

  <dt style="font-weight: bold;">, </dt>
  <dd>The comma seperator is used to seperate statements without
    affecting the dependency list or clock (ie: the next statement
    will add to the dependency list).</dd>

  <dt style="font-weight: bold;">; </dt>
  <dd>The semicolon seperator resets the list of dependencies without
    incrementing the clock</dd>

  <dt style="font-weight: bold;">.</dt>
  <dd>The period seperator resets the list of dependencies and
    increments the clock.</dd>

  <dt style="font-weight: bold;">=&gt;</dt>
  <dd>The "causes" seperator renders dependency arrows based on the
    current list of dependencies and then resets the dependency
    list.</dd>

  <dt>-<span style="text-decoration: underline;">tD</span>&gt;</dt>
  <dd>The "delay" seperator renders a delay arrow from the last
    dependency.&nbsp; An optional annotation, <span
    style="text-decoration: underline;">tD</span> in this case, can be
    provided. </dd> 
</dl>

<p>Signal values are rendered according to the following rules: </p>
   
<dl>
  <dt><span style="font-weight: bold;">0</span>, 
    <span style="font-weight: bold;">1</span>, 
    <span style="font-weight: bold;">true</span>,
    and <span style="font-weight: bold;">false</span></dt>
  <dd>binary hi/low signal.</dd>

  <dt><span style="font-weight: bold;">tick</span></dt>
  <dd>a clock pulse which repeats.</dd>

  <dt><span style="font-weight: bold;">pulse</span></dt>
  <dd>a one-shot clock pulse.</dd>

  <dt style="font-weight: bold;">X</dt>
  <dd>a don't care value.</dd>

  <dt style="font-weight: bold;">Z</dt>
  <dd>a tristate value.</dd>

  <dt><span style="font-style: italic;">"ABC"</span></dt> 
  <dd>Any other alphanumeric token, or text enclosed in quotes is
  rendered as a state. </dd>
</dl>

<!-- ============================================================ -->

      </td>
      <td class="right"></td>
    </tr>
    <tr class="bottom">
      <td class="left"></td>
      <td class="middle"></td>
      <td class="right"></td>
    </tr>
  </tbody>
</table>
</body>
</html>
